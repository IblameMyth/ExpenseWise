<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExpenseWise - Quick Start</title>
    <style>
        body {
            font-family: 'Inter', 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            margin: 0;
        }
        
        .start-container {
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 600px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .logo {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #ffffff, #f0f9ff);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 800;
        }
        
        .nav-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .nav-btn {
            background: linear-gradient(135deg, #3b82f6, #10b981);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: block;
        }
        
        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.4);
        }
        
        .debug-info {
            background: rgba(0, 0, 0, 0.6);
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            font-family: monospace;
            font-size: 12px;
            text-align: left;
        }
        
        .status {
            color: #10b981;
        }
        
        .error {
            color: #ef4444;
        }
    </style>
</head>
<body>
    <div class="start-container">
        <div class="logo">💰 ExpenseWise</div>
        <h2>Quick Start Menu</h2>
        <p>Choose where you want to go:</p>
        
        <div class="nav-grid">
            <a href="welcome.html" class="nav-btn">🏠 Welcome Page</a>
            <a href="login.html" class="nav-btn">🔐 Login/Signup</a>
            <a href="expense_manager_system.html" class="nav-btn">📊 Dashboard</a>
            <a href="debug-test.html" class="nav-btn">🧪 Debug Test</a>
        </div>
        
        <div class="debug-info">
            <div><strong>Debug Info:</strong></div>
            <div id="current-url">Current URL: <span id="url-display"></span></div>
            <div id="session-status">Session Status: <span id="session-info"></span></div>
            <div id="users-count">Users Count: <span id="users-display"></span></div>
            <div><strong>Quick Actions:</strong></div>
            <button onclick="createTestUser()" style="margin: 5px; padding: 5px 10px; background: #10b981; border: none; border-radius: 4px; color: white;">Create Test User</button>
            <button onclick="clearData()" style="margin: 5px; padding: 5px 10px; background: #ef4444; border: none; border-radius: 4px; color: white;">Clear Data</button>
        </div>
    </div>

    <script>
        // Update debug info
        document.getElementById('url-display').textContent = window.location.href;
        
        // Check session
        const session = localStorage.getItem('expenseWiseSession');
        if (session) {
            try {
                const data = JSON.parse(session);
                document.getElementById('session-info').innerHTML = '<span class="status">Logged in as: ' + data.username + '</span>';
            } catch (e) {
                document.getElementById('session-info').innerHTML = '<span class="error">Session corrupted</span>';
            }
        } else {
            document.getElementById('session-info').innerHTML = '<span class="error">No session</span>';
        }
        
        // Check users
        const users = JSON.parse(localStorage.getItem('expenseWiseUsers') || '[]');
        document.getElementById('users-display').textContent = users.length;
        
        function createTestUser() {
            const users = JSON.parse(localStorage.getItem('expenseWiseUsers') || '[]');
            
            // Remove existing test user
            const filteredUsers = users.filter(u => u.username !== 'test');
            
            // Add new test user
            const testUser = {
                id: Date.now(),
                fullName: 'Test User',
                username: 'test',
                password: 'test123',
                createdAt: new Date().toISOString()
            };
            
            filteredUsers.push(testUser);
            localStorage.setItem('expenseWiseUsers', JSON.stringify(filteredUsers));
            
            alert('Test user created!\nUsername: test\nPassword: test123');
            location.reload();
        }
        
        function clearData() {
            if (confirm('Clear all data?')) {
                localStorage.clear();
                location.reload();
            }
        }
        
        // Add click handlers for navigation
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                const href = this.getAttribute('href');
                console.log('Navigating to:', href);
                
                // Try multiple redirect methods
                try {
                    window.location.href = href;
                } catch (error) {
                    console.error('Redirect failed:', error);
                    window.location = href;
                }
            });
        });
    </script>
</body>
</html>